<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uzay MacerasÄ± - Sesli AsistanlÄ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Comic Sans MS', cursive, sans-serif; }
        .anim-pop { transition: transform 0.2s; }
        .anim-pop:active { transform: scale(0.95); }
        .stars { background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%); }
    </style>
</head>
<body class="bg-gray-900 text-white h-screen overflow-hidden stars select-none">

    <button onclick="toggleSound()" class="absolute top-4 right-4 z-50 bg-white/20 p-2 rounded-full">
        <i data-lucide="volume-2" id="soundIcon" class="w-8 h-8 text-white"></i>
    </button>

    <div id="app" class="w-full h-full flex flex-col items-center justify-center p-4 text-center">
        </div>

    <script>
        // --- SESLÄ° ASÄ°STAN SÄ°STEMÄ° ---
        let sesAcik = true;
        
        function konus(metin) {
            if (!sesAcik) return;
            window.speechSynthesis.cancel(); // Ã–nceki konuÅŸmayÄ± durdur
            const asistan = new SpeechSynthesisUtterance(metin);
            asistan.lang = 'tr-TR'; // TÃ¼rkÃ§e konuÅŸ
            asistan.rate = 0.9; // Ã‡ocuklar iÃ§in biraz yavaÅŸ
            asistan.pitch = 1.1; // Biraz neÅŸeli ton
            window.speechSynthesis.speak(asistan);
        }

        function toggleSound() {
            sesAcik = !sesAcik;
            document.getElementById('soundIcon').setAttribute('data-lucide', sesAcik ? 'volume-2' : 'volume-x');
            lucide.createIcons();
        }

        // --- OYUN VERÄ°LERÄ° ---
        const gameState = {
            screen: 'INTRO', // INTRO, SELECT, GAME, WIN
            character: null,
            level: 1
        };

        const app = document.getElementById('app');

        // --- EKRANLAR ---
        function render() {
            app.innerHTML = '';
            
            if (gameState.screen === 'INTRO') {
                app.innerHTML = `
                    <h1 class="text-5xl md:text-7xl font-bold mb-8 text-yellow-400 animate-bounce">UZAY MACERASI</h1>
                    <button onclick="startGame()" class="anim-pop bg-gradient-to-r from-blue-500 to-purple-600 text-white text-3xl py-6 px-12 rounded-3xl border-b-8 border-blue-800 shadow-xl hover:brightness-110">
                        ðŸš€ OYUNA BAÅžLA
                    </button>
                    <p class="mt-8 text-xl text-blue-200">Sesli Asistan Ã–zelliÄŸi Aktif</p>
                `;
            } 
            else if (gameState.screen === 'SELECT') {
                app.innerHTML = `
                    <h2 class="text-4xl mb-8 text-purple-300">Karakterini SeÃ§!</h2>
                    <div class="flex gap-8">
                        <div onclick="selectChar('girl')" class="cursor-pointer anim-pop bg-white/10 p-6 rounded-2xl hover:bg-white/20 border-4 border-transparent hover:border-pink-400 transition">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix&gender=female" class="w-32 h-32 rounded-full bg-pink-200 mb-4">
                            <div class="text-2xl">AyÅŸe</div>
                        </div>
                        <div onclick="selectChar('boy')" class="cursor-pointer anim-pop bg-white/10 p-6 rounded-2xl hover:bg-white/20 border-4 border-transparent hover:border-blue-400 transition">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Aneka&gender=male" class="w-32 h-32 rounded-full bg-blue-200 mb-4">
                            <div class="text-2xl">Ali</div>
                        </div>
                    </div>
                `;
            }
            else if (gameState.screen === 'GAME') {
                app.innerHTML = `
                    <div class="mb-8">
                        <div class="text-6xl mb-4 animate-pulse">ðŸ”’ ÅžÄ°FRE</div>
                        <p class="text-2xl text-yellow-200">KÄ±rmÄ±zÄ± ÃœÃ§geni Bul ve TÄ±kla!</p>
                    </div>
                    <div class="grid grid-cols-3 gap-4 max-w-2xl">
                        <button onclick="checkAnswer(false)" class="anim-pop h-32 rounded-2xl bg-blue-500 flex items-center justify-center text-6xl shadow-lg border-b-8 border-blue-700">ðŸŸ¦</button>
                        <button onclick="checkAnswer(true)" class="anim-pop h-32 rounded-2xl bg-red-500 flex items-center justify-center text-6xl shadow-lg border-b-8 border-red-700">ðŸ”º</button>
                        <button onclick="checkAnswer(false)" class="anim-pop h-32 rounded-2xl bg-green-500 flex items-center justify-center text-6xl shadow-lg border-b-8 border-green-700">ðŸŸ¢</button>
                    </div>
                `;
            }
            else if (gameState.screen === 'WIN') {
                app.innerHTML = `
                    <div class="text-center animate-bounce">
                        <h2 class="text-6xl font-bold text-green-400 mb-4">ðŸŽ‰ TEBRÄ°KLER! ðŸŽ‰</h2>
                        <p class="text-3xl text-white mb-8">KapÄ±yÄ± AÃ§tÄ±n!</p>
                        <div class="text-9xl mb-8">ðŸš€</div>
                        <button onclick="location.reload()" class="anim-pop bg-yellow-500 text-black text-2xl py-4 px-8 rounded-full font-bold">Tekrar Oyna</button>
                    </div>
                `;
                createConfetti();
            }
            lucide.createIcons();
        }

        // --- OYUN MANTIÄžI ---
        function startGame() {
            konus("Merhaba kÃ¼Ã§Ã¼k astronot! Hadi Ã¶nce karakterini seÃ§elim.");
            gameState.screen = 'SELECT';
            render();
        }

        function selectChar(type) {
            gameState.character = type;
            let name = type === 'girl' ? 'AyÅŸe' : 'Ali';
            konus("Harika seÃ§im! Åžimdi kapÄ±yÄ± aÃ§mak iÃ§in doÄŸru ÅŸifreyi bulman lazÄ±m. KÄ±rmÄ±zÄ± Ã¼Ã§geni bul.");
            gameState.screen = 'GAME';
            render();
        }

        function checkAnswer(isCorrect) {
            if (isCorrect) {
                konus("Aferin sana! DoÄŸru bildin ve kapÄ± aÃ§Ä±ldÄ±. Roket kalkÄ±yor!");
                gameState.screen = 'WIN';
                render();
            } else {
                konus("Dikkatli bak. KÄ±rmÄ±zÄ± renkli Ã¼Ã§geni bulmalÄ±sÄ±n.");
                // TitreÅŸim efekti eklenebilir
                document.body.classList.add('bg-red-900');
                setTimeout(() => document.body.classList.remove('bg-red-900'), 200);
            }
        }

        function createConfetti() {
            // Basit konfeti efekti CSS ile yapÄ±labilir veya kÃ¼tÃ¼phane eklenebilir, ÅŸimdilik emoji ile kutlama
        }

        // BaÅŸlangÄ±Ã§
        render();
        lucide.createIcons();
    </script>
</body>
</html>
