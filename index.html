<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uzay MacerasÄ± PRO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap');
        body { font-family: 'Fredoka', sans-serif; }
        .stars { background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%); }
        .anim-pop { transition: transform 0.1s; cursor: pointer; }
        .anim-pop:active { transform: scale(0.90); }
        .glass { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); border: 2px solid rgba(255,255,255,0.2); }
        
        /* Roket Animasyonu */
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-20px); } 100% { transform: translateY(0px); } }
        .floating { animation: float 3s ease-in-out infinite; }
    </style>
</head>
<body class="bg-gray-900 text-white h-screen overflow-hidden stars select-none relative">

    <div class="absolute inset-0 z-0 opacity-50">
        <div class="absolute top-10 left-10 text-yellow-100 text-xs">âœ¨</div>
        <div class="absolute top-40 right-20 text-yellow-100 text-sm">â­</div>
        <div class="absolute bottom-20 left-1/3 text-yellow-100">âœ¨</div>
    </div>

    <button onclick="toggleSound()" class="absolute top-4 right-4 z-50 glass p-3 rounded-full hover:bg-white/20 transition">
        <i data-lucide="volume-2" id="soundIcon" class="w-8 h-8 text-white"></i>
    </button>

    <div id="app" class="relative z-10 w-full h-full flex flex-col items-center justify-center p-4 text-center">
        </div>

    <script>
        // --- AYARLAR ---
        let sesAcik = true;
        let playerName = "";
        const gameState = { screen: 'INTRO', level: 1 };
        
        // --- SESLÄ° ASÄ°STAN ---
        function konus(metin) {
            if (!sesAcik) return;
            window.speechSynthesis.cancel();
            const asistan = new SpeechSynthesisUtterance(metin);
            asistan.lang = 'tr-TR';
            asistan.rate = 0.9; 
            window.speechSynthesis.speak(asistan);
        }

        function toggleSound() {
            sesAcik = !sesAcik;
            document.getElementById('soundIcon').setAttribute('data-lucide', sesAcik ? 'volume-2' : 'volume-x');
            lucide.createIcons();
        }

        // --- SAYFA YÃ–NETÄ°MÄ° ---
        const app = document.getElementById('app');

        function render() {
            app.innerHTML = '';
            
            // 1. GÄ°RÄ°Å EKRANI
            if (gameState.screen === 'INTRO') {
                app.innerHTML = `
                    <div class="floating mb-8 text-8xl">ğŸš€</div>
                    <h1 class="text-5xl md:text-7xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400">UZAY GEZGÄ°NÄ°</h1>
                    <p class="text-xl text-blue-200 mb-8">HazÄ±r mÄ±sÄ±n Kaptan?</p>
                    <button onclick="startGame()" class="anim-pop bg-yellow-500 text-black text-3xl py-4 px-12 rounded-full font-bold shadow-lg border-b-8 border-yellow-700 hover:brightness-110">
                        BAÅLA â–¶
                    </button>
                `;
            } 
            
            // 2. KARAKTER SEÃ‡Ä°MÄ°
            else if (gameState.screen === 'SELECT') {
                app.innerHTML = `
                    <h2 class="text-3xl mb-8 text-white">Karakterini SeÃ§</h2>
                    <div class="flex gap-6 justify-center">
                        <div onclick="selectChar('AyÅŸe')" class="anim-pop glass p-6 rounded-3xl hover:bg-white/20">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Coco&backgroundColor=b6e3f4" class="w-32 h-32 rounded-full mb-4 shadow-lg">
                            <div class="text-2xl font-bold">AyÅŸe</div>
                        </div>
                        <div onclick="selectChar('Ali')" class="anim-pop glass p-6 rounded-3xl hover:bg-white/20">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix&backgroundColor=c0aede" class="w-32 h-32 rounded-full mb-4 shadow-lg">
                            <div class="text-2xl font-bold">Ali</div>
                        </div>
                    </div>
                `;
            }

            // 3. SEVÄ°YE 1: ÅEKÄ°L BULMACA
            else if (gameState.screen === 'LEVEL1') {
                app.innerHTML = `
                    <div class="mb-8">
                        <div class="inline-block bg-blue-600 px-4 py-1 rounded-full text-sm mb-4">Seviye 1</div>
                        <h2 class="text-4xl font-bold text-yellow-300 mb-2">KÄ±rmÄ±zÄ± ÃœÃ§gen Nerede?</h2>
                        <p class="text-gray-300">KapÄ±yÄ± aÃ§mak iÃ§in ona tÄ±kla!</p>
                    </div>
                    <div class="grid grid-cols-3 gap-4 max-w-lg mx-auto">
                        <button onclick="wrongAnswer()" class="anim-pop h-32 glass rounded-2xl flex items-center justify-center text-7xl hover:bg-white/10">ğŸŸ¦</button>
                        <button onclick="nextLevel()" class="anim-pop h-32 glass rounded-2xl flex items-center justify-center text-7xl hover:bg-white/10 border-2 border-red-500/50">ğŸ”º</button>
                        <button onclick="wrongAnswer()" class="anim-pop h-32 glass rounded-2xl flex items-center justify-center text-7xl hover:bg-white/10">ğŸŸ¢</button>
                    </div>
                `;
            }

            // 4. SEVÄ°YE 2: Ã–RÃœNTÃœ (BÄ°LSEM SORUSU)
            else if (gameState.screen === 'LEVEL2') {
                app.innerHTML = `
                    <div class="mb-8">
                        <div class="inline-block bg-purple-600 px-4 py-1 rounded-full text-sm mb-4">Seviye 2</div>
                        <h2 class="text-3xl font-bold text-yellow-300 mb-4">SÄ±radaki Ne Gelmeli?</h2>
                        
                        <div class="flex items-center justify-center gap-4 bg-white/10 p-4 rounded-xl mb-8">
                            <span class="text-5xl">ğŸŒ</span>
                            <span class="text-3xl text-gray-500">âœ</span>
                            <span class="text-5xl">ğŸŒ™</span>
                            <span class="text-3xl text-gray-500">âœ</span>
                            <span class="text-5xl">ğŸŒ</span>
                            <span class="text-3xl text-gray-500">âœ</span>
                            <div class="w-16 h-16 border-4 border-dashed border-yellow-400 rounded-lg flex items-center justify-center text-4xl">?</div>
                        </div>
                    </div>
                    <div class="flex gap-4 justify-center">
                        <button onclick="wrongAnswer()" class="anim-pop bg-white p-4 rounded-xl text-5xl shadow-lg border-b-4 border-gray-300">ğŸŒ</button>
                        <button onclick="startColoring()" class="anim-pop bg-white p-4 rounded-xl text-5xl shadow-lg border-b-4 border-gray-300">ğŸŒ™</button>
                        <button onclick="wrongAnswer()" class="anim-pop bg-white p-4 rounded-xl text-5xl shadow-lg border-b-4 border-gray-300">â­</button>
                    </div>
                `;
            }

            // 5. SEVÄ°YE 3: BOYAMA (Ã–DÃœL)
            else if (gameState.screen === 'COLORING') {
                app.innerHTML = `
                     <div class="mb-4">
                        <h2 class="text-3xl text-green-400 font-bold">HarikasÄ±n! Ã–dÃ¼l ZamanÄ± ğŸ¨</h2>
                        <p>Roketin rengini deÄŸiÅŸtirmek iÃ§in butonlara bas!</p>
                    </div>
                    
                    <div class="relative w-64 h-64 mx-auto mb-6 transition-all duration-500" id="rocketBox">
                        <svg viewBox="0 0 512 512" class="w-full h-full drop-shadow-2xl floating">
                            <path id="rocketBody" d="M256 16c-60 0-100 80-100 200 0 80 40 160 100 160s100-80 100-160c0-120-40-200-100-200z" fill="#cbd5e1"/>
                            <path d="M256 16c0 0-40 80-40 200h80C296 96 256 16 256 16z" fill="rgba(255,255,255,0.3)"/>
                            <path id="rocketWindow" d="M256 160a32 32 0 1 0 0 64 32 32 0 1 0 0-64z" fill="#3b82f6"/>
                            <path id="rocketFins" d="M156 320l-60 80v60h60l40-80z M356 320l60 80v60h-60l-40-80z" fill="#ef4444"/>
                            <path d="M256 376c-30 0-50 20-50 50v40h100v-40c0-30-20-50-50-50z" fill="#64748b"/>
                        </svg>
                    </div>

                    <div class="flex gap-3 justify-center mb-8">
                        <button onclick="paintRocket('#ef4444')" class="w-12 h-12 rounded-full bg-red-500 border-2 border-white transform hover:scale-110 transition"></button>
                        <button onclick="paintRocket('#3b82f6')" class="w-12 h-12 rounded-full bg-blue-500 border-2 border-white transform hover:scale-110 transition"></button>
                        <button onclick="paintRocket('#22c55e')" class="w-12 h-12 rounded-full bg-green-500 border-2 border-white transform hover:scale-110 transition"></button>
                        <button onclick="paintRocket('#a855f7')" class="w-12 h-12 rounded-full bg-purple-500 border-2 border-white transform hover:scale-110 transition"></button>
                        <button onclick="paintRocket('#eab308')" class="w-12 h-12 rounded-full bg-yellow-500 border-2 border-white transform hover:scale-110 transition"></button>
                    </div>

                    <button onclick="finishGame()" class="bg-green-600 text-white py-3 px-8 rounded-full text-xl font-bold hover:bg-green-500 animate-bounce">
                        GÃ–REVÄ° TAMAMLA âœ“
                    </button>
                `;
            }

            // 6. BÄ°TÄ°Å
            else if (gameState.screen === 'WIN') {
                app.innerHTML = `
                    <div class="text-center">
                        <div class="text-9xl mb-4 animate-bounce">ğŸ†</div>
                        <h2 class="text-5xl font-bold text-yellow-400 mb-4">GÃ–REV BAÅARILI!</h2>
                        <p class="text-2xl text-white mb-8">Tebrikler <span class="text-blue-400 font-bold">${playerName}</span>!</p>
                        <p class="text-gray-400 mb-8">Uzay macerasÄ±nÄ± tamamladÄ±n.</p>
                        <button onclick="location.reload()" class="glass py-3 px-8 rounded-full text-white hover:bg-white/20">
                            Tekrar Oyna â†»
                        </button>
                    </div>
                `;
                konus(`Tebrikler ${playerName}! GÃ¶revi baÅŸarÄ±yla tamamladÄ±n.`);
            }
            lucide.createIcons();
        }

        // --- OYUN MANTIÄI ---
        function startGame() {
            konus("Uzay gemisine hoÅŸ geldin! Hadi Ã¶nce karakterini seÃ§.");
            gameState.screen = 'SELECT';
            render();
        }

        function selectChar(name) {
            playerName = name;
            konus(`Merhaba ${name}. Ä°lk gÃ¶revin: KÄ±rmÄ±zÄ± Ã¼Ã§geni bulmak.`);
            gameState.screen = 'LEVEL1';
            render();
        }

        function wrongAnswer() {
            konus("HÄ±mmm, tekrar dene bakalÄ±m. Bu doÄŸru deÄŸil.");
            // EkranÄ± salla
            app.classList.add('animate-pulse');
            setTimeout(() => app.classList.remove('animate-pulse'), 500);
        }

        function nextLevel() {
            konus("SÃ¼persin! DoÄŸru cevap. Åimdi ikinci soru: GÃ¼neÅŸ, Ay, GÃ¼neÅŸ... SÄ±rada ne gelmeli?");
            gameState.screen = 'LEVEL2';
            render();
        }

        function startColoring() {
            konus("Harika! Ã–rÃ¼ntÃ¼yÃ¼ tamamladÄ±n. Åimdi Ã¶dÃ¼l olarak roketini istediÄŸin renge boya.");
            gameState.screen = 'COLORING';
            render();
        }

        function paintRocket(color) {
            document.getElementById('rocketBody').setAttribute('fill', color);
            // Yan efekt sesi olabilir
        }

        function finishGame() {
            gameState.screen = 'WIN';
            render();
        }

        // BaÅŸlat
        render();
        lucide.createIcons();
    </script>
</body>
</html>
